import java.util.*;
            import java.io.*;
            import java.math.*;

            public class Main {
                public static void main(String args[] ) throws Exception {
                    BufferedReader br = new BufferedReader( new InputStreamReader( System.in ) ) ;
                    int Q = Integer.valueOf ( br.readLine().trim() ) ;
                    
                    long v = 1 ; 
                    long mod =  998244353L ;
                    long b = 1 ;
                    
                    Deque<Integer> deque = new ArrayDeque<>() ;
                    deque.add ( 1 ) ;
                    for ( int i=0 ; i<Q ; i++ ) {
                        String S = br.readLine().trim() ;
                        switch( S.charAt(0) ) {
                            case '1' :
                                String[] ss = S.split(" ") ;
                                int r = Integer.valueOf( ss[1] ) ;
                                deque.addLast(r) ;
                                v = ( v * 10 + r ) % mod ;
                                break ;
                            case '2' :
                                int c = deque.pollFirst() ;
                                b = BigInteger.TEN.modPow(BigInteger.valueOf(deque.size()), BigInteger.valueOf(mod)).longValue();
                                long power10 = BigInteger.TEN.modPow(BigInteger.valueOf(deque.size()), BigInteger.valueOf(mod)).longValue();
                                v = v - (c * power10) % mod;
                                v = ( v + mod ) % mod ;
                                break ;
                            case '3' : 
                                System.out.println( v ) ;
                                break ;
                        }
                    }
                    br.close() ;
                }
            }