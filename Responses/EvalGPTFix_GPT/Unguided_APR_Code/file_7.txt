import java.util.ArrayList;
import java.util.Scanner;

public class Main {
    static long mod = 998244353L;

    static long getTenEx(int k) {
        if (k == 0) return 1L;
        if (k == 1) return 10L;
        long tmp = getTenEx(k / 2);
        if (k % 2 == 0) {
            return (tmp * tmp) % mod;
        } else {
            return (tmp * tmp * 10) % mod;
        }
    }

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt();
        long num = 1L;
        int f = 0;
        ArrayList<Integer> s = new ArrayList<>();
        s.add(1);
        
        while (n-- > 0) {
            int ops = sc.nextInt();
            if (ops == 1) {
                int x = sc.nextInt();
                num = (num * 10 + x) % mod;  // Ensure num calculation remains within bounds
                s.add(x);
            } else if (ops == 2) {
                int k = s.size() - f - 1;
                num = ((num - s.get(f) * getTenEx(k)) % mod + mod) % mod;  // Correct subtraction and modular arithmetic
                f++;
            } else {
                System.out.println(num);
            }
        }
        sc.close();  // Close the scanner
    }
}