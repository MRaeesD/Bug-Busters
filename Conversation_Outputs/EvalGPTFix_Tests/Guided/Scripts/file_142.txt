import java.util.Arrays;
import java.util.Scanner;

public class Main {
	
	public static void main(String[] args) {
		Scanner scanner = new Scanner(System.in);
		
		int n = Integer.parseInt(scanner.next());
		int[][] a = new int[n][n];
		int[][] b = new int[n][n];
		for(int i=0; i<n*2; i++) {
			for(int k=0; k<n; k++) {
				if(i < n) {
					a[i][k] = Integer.parseInt(scanner.next());
				}else {
					b[i-n][k] = Integer.parseInt(scanner.next());
				}
			}
		}
		
		int[][] tmp = new int[n][n];
		
		for(int kaiten = 0; kaiten<4; kaiten++) {
			
			// Rotate matrix 'a' 90 degrees clockwise
			for(int i=0; i<n; i++) {
				for(int k=0; k<n; k++) {		
					tmp[k][i] = a[n-1-i][k]; // Corrected rotation logic
				}
			}
			
			boolean flag = true; // Flag to check if 'tmp' matches 'b' after rotation
			for(int i=0; i<n; i++) {
				for(int k=0; k<n; k++) {
					if(tmp[i][k] == 1 &&  b[i][k] == 0) {
						flag = false;
						break;
					}
				}
				if(!flag) break;
			}
			
			if(flag) {
				System.out.println("Yes");
				return;
			} else {
				// Copy tmp back to a for the next rotation
				for(int i=0; i<n; i++) {
					a[i] = Arrays.copyOf(tmp[i], n);
				}
			}
		}
		
		System.out.println("No");
	}
}