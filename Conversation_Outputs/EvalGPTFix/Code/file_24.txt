import java.util.*;
import java.io.*;

public class Main {
    static void solve() {
        StringBuilder res = new StringBuilder();
        int n = sc.nextInt();
        Queue<Integer> q = new LinkedList<>();
        q.offer(1);
        long ans = 1, mod = 998244353, k = 1;
        for (int i = 0; i < n; i++) {
            int t = sc.nextInt();
            if (t == 1) {
                int x = sc.nextInt();
                ans *= 10;
                ans += x;
                ans %= mod;
                k++;
                q.offer(x); // Ensure the queue is updated with new elements
            } else if (t == 2) {
                if (!q.isEmpty()) { // Check if the queue is not empty before polling
                    int p = q.poll();
                    ans -= binpow(10, k - 1, mod) * p % mod;
                    ans += mod;
                    ans %= mod;
                    k--;
                } else {
                    System.out.println("Error: Attempt to poll from an empty queue.");
                }
            } else {
                print(ans % mod);
            }
        }
    }

    // ... (Rest of the code remains unchanged)
}