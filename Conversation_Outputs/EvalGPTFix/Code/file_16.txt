// Java Code
void calc() {
    deque.add(1);
    long val = 1L;
    for (int i = 0; i < Q; ++i) {
        Query query = this.queries[i];
        if (query.type == 1) {
            deque.addLast(query.i);
            val *= 10L;
            val += (long) query.i;
            val %= MOD;
        } else if (query.type == 2) {
            int len = deque.size();
            long m = mods[len] * deque.pollFirst();
            val = ((val - m) % MOD + MOD) % MOD; // Corrected: Apply modulo after subtraction
        } else {
            this.writer.println(val);
        }
    }
}

void showResult() {
    this.writer.flush();
    this.writer.close(); // Ensure the writer is closed
}