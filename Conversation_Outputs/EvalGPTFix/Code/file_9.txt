import java.io.PrintWriter;
import java.util.ArrayDeque;
import java.util.Queue;
import java.util.Scanner;

public class Main {
	
	public static void main(String[] args) {
		
		try(Scanner sc = new Scanner(System.in);){
			
			PrintWriter out = new PrintWriter(System.out);
			StringBuilder sb = new StringBuilder();
			
			int q = Integer.parseInt(sc.next());
			final int mod = 998244353;
			
			Queue<Integer> queue = new ArrayDeque<Integer>();
			queue.add(1);
			long ans = 1L;
			
			for(int i = 0; i < q; i++) {
				int index = Integer.parseInt(sc.next());
				
				if(index == 1) {
					int x = Integer.parseInt(sc.next());
					queue.add(x);
					// BUG: Assumes x is a single-digit number, which might not be true.
					// FIX: Calculate the correct power of 10 based on the number of digits in x
					ans = (ans * power(10, String.valueOf(x).length(), mod) + x) % mod;
					
				} else if(index == 2) {
					int x = queue.poll();
					long s = x * power(10, queue.size(), mod) % mod;
					// BUG: Assumes x is a single-digit number, which might not be true.
					// Although x is not necessarily a single digit, the calculation here should be correct
					// because we are removing x from the front of the queue, 
					// so its place value is accurately represented by queue.size().
					ans = (ans - s + mod) % mod;
					
				} else {
					sb.append(ans + "\n");
				}
			}
			
			out.println(sb.toString());
			out.flush();
			
		}
		
	}
	
	static long power(long x, long n, int m) {
		long ans = 1;
		
		while(n > 0) {
			if((n & 1) != 0) {
				ans *= x;
				ans %= m;
			}
			
			x *= x;
			x %= m;
			n = n >> 1;
			
		}
		
		return ans;
		
	}
}