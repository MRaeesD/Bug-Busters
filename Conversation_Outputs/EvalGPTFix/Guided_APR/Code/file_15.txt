number = ((number - upper * modPow(10, deque.size() - 1, mod)) % mod + mod) % mod;